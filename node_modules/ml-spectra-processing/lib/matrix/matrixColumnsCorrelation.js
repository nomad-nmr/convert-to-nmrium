"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.matrixColumnsCorrelation = void 0;
const ml_matrix_1 = require("ml-matrix");
const xCorrelation_1 = require("../x/xCorrelation");
/**
 * Calculates a correlation matrix based on the columns of the initial matrix
 *
 * @param A - matrix [rows][cols]
 */
function matrixColumnsCorrelation(A) {
    let B = new ml_matrix_1.Matrix(A);
    B = B.transpose();
    let result = [];
    for (let i = 0; i < B.rows; i++) {
        result.push(new Float64Array(B.rows));
    }
    for (let i = 0; i < B.rows; i++) {
        for (let j = i; j < B.rows; j++) {
            let correlation = (0, xCorrelation_1.xCorrelation)(B.getRow(i), B.getRow(j));
            result[i][j] = correlation;
            result[j][i] = correlation;
        }
    }
    return result;
}
exports.matrixColumnsCorrelation = matrixColumnsCorrelation;
//# sourceMappingURL=matrixColumnsCorrelation.js.map