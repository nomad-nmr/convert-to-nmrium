"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.xyClosestX = void 0;
const binary_search_1 = __importDefault(require("binary-search"));
const numberSort_1 = require("../utils/numberSort");
/**Findding the closest points
 *
 * @param points - points in cartesian space
 * @param options - options
 * @returns - closest point
 */
function xyClosestX(
/** points */
points, options) {
    const { x, y } = points;
    const { target = x[0], reverse = false } = options;
    let index;
    if (reverse) {
        index = (0, binary_search_1.default)(x, target, numberSort_1.numberSortDescending);
    }
    else {
        index = (0, binary_search_1.default)(x, target, numberSort_1.numberSortAscending);
    }
    if (index >= 0) {
        return {
            x: x[index],
            y: y[index],
        };
    }
    else {
        index = ~index;
        if ((index !== 0 && Math.abs(x[index] - target) > 0.5) ||
            index === x.length) {
            return {
                x: x[index - 1],
                y: y[index - 1],
            };
        }
        else {
            return {
                x: x[index],
                y: y[index],
            };
        }
    }
}
exports.xyClosestX = xyClosestX;
//# sourceMappingURL=xyClosestX.js.map