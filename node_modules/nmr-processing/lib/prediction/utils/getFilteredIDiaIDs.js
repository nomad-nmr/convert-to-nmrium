"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFilteredIDiaIDs = void 0;
const openchemlib_utils_1 = require("openchemlib-utils");
function getFilteredIDiaIDs(molecule, options) {
    const { maxSphereSize } = options;
    molecule.addImplicitHydrogens();
    molecule.addMissingChirality();
    (0, openchemlib_utils_1.addDiastereotopicMissingChirality)(molecule);
    const molfile = molecule.toMolfile();
    let groupedDiaIDs = (0, openchemlib_utils_1.getGroupedDiastereotopicAtomIDs)(molecule);
    let carbonDiaIDs = groupedDiaIDs
        .filter((e) => e.atomLabel === 'C')
        .sort((a, b) => {
        if (a.atomLabel === b.atomLabel) {
            return b.counter - a.counter;
        }
        return a.atomLabel < b.atomLabel ? 1 : -1;
    });
    const OCL = molecule.getOCL();
    for (const diaId of carbonDiaIDs) {
        diaId.hose = (0, openchemlib_utils_1.getHoseCodesFromDiastereotopicID)(OCL.Molecule.fromIDCode(diaId.oclID), {
            maxSphereSize,
        });
    }
    let toReturn = {
        molfile,
        carbonDiaIDs: carbonDiaIDs,
        groupedDiaIDs,
    };
    return toReturn;
}
exports.getFilteredIDiaIDs = getFilteredIDiaIDs;
//# sourceMappingURL=getFilteredIDiaIDs.js.map