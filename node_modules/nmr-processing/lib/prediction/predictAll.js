"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.predictAll = void 0;
const predictCOSY_1 = require("./predictCOSY");
const predictCarbon_1 = require("./predictCarbon");
const predictHMBC_1 = require("./predictHMBC");
const predictHSQC_1 = require("./predictHSQC");
const predictProton_1 = require("./predictProton");
const getPredictions_1 = require("./utils/getPredictions");
/**
 * Generate the correlation bidimensional nmr peaks based on the number of bonds between a pair of atoms
 * @returns {Promise<object>} - object with molfile, diaIDs, 1D and 2D signals, joined signals, ranges and zones.
 */
async function predictAll(molecule, options = {}) {
    let { from = 'H', to = 'C', predictor = { H: predictProton_1.predictProton, C: predictCarbon_1.predictCarbon }, predictions, joinDistance = { H: 0.05, C: 0.5 }, predictOptions = {}, } = options;
    const xPrediction = await (0, getPredictions_1.getPredictions)(from, molecule, predictOptions, predictor, predictions);
    const yPrediction = await (0, getPredictions_1.getPredictions)(to, molecule, predictOptions, predictor, predictions);
    if (!xPrediction || !yPrediction) {
        throw new Error('predictions are not availaible');
    }
    predictions = {
        H: xPrediction,
        C: yPrediction,
    };
    const { molfile, diaIDs } = xPrediction;
    const spectra = {
        proton: predictions.H,
        carbon: predictions.C,
    };
    spectra.cosy = await (0, predictCOSY_1.predictCOSY)(molecule, {
        predictions,
        joinDistance,
    });
    spectra.hsqc = await (0, predictHSQC_1.predictHSQC)(molecule, {
        predictions,
        joinDistance,
    });
    spectra.hmbc = await (0, predictHMBC_1.predictHMBC)(molecule, {
        predictions,
        joinDistance,
    });
    for (const key in spectra) {
        delete spectra[key].molfile;
        delete spectra[key].diaIDs;
    }
    return {
        molfile,
        diaIDs,
        ...spectra,
    };
}
exports.predictAll = predictAll;
//# sourceMappingURL=predictAll.js.map